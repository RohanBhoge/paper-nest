import React, { useState } from 'react';
import { Eye, Download, ArrowLeft, List, LayoutGrid } from 'lucide-react';

const ChaptersPage = ({ selectedExam, selectedSubject, chapters, setActiveSection, openNotesModal }) => {

  const [viewType, setViewType] = useState("grid"); // values: "grid" | "list"

  // ‚úÖ EQUAL HEIGHT BOX GRID VIEW + HANDLES LONG TEXT
  const renderGridView = (chapterList) => (
    <div className="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-5">
      {chapterList.map((chapter) => (
        <div
          key={chapter}
          className="flex flex-col justify-between p-5 h-44 bg-white border border-slate-200 
                     rounded-2xl shadow-sm hover:shadow-lg hover:-translate-y-1 
                     transition-all duration-200"
        >
          {/* Chapter Name - 2 lines max */}
          <h3 className="font-semibold text-slate-800 text-lg mb-4 line-clamp-2 leading-snug">
            {chapter}
          </h3>

          {/* Action Buttons */}
          <div className="flex gap-2 mt-auto">
            <button
              onClick={() => openNotesModal(chapter)}
              className="flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-blue-600 
                         text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition"
            >
              <Eye size={14} /> Notes
            </button>
            <button
              className="flex items-center justify-center gap-1 px-3 py-2 bg-slate-100 
                         text-slate-700 rounded-lg text-sm font-medium hover:bg-slate-200 transition"
            >
              <Download size={14} /> Download
            </button>
          </div>
        </div>
      ))}
    </div>
  );

  // ‚úÖ LIST VIEW (unchanged)
  const renderListView = (chapterList) => (
    <div className="space-y-4">
      {chapterList.map((chapter) => (
        <div
          key={chapter}
          className="flex justify-between items-center p-4 bg-white border border-slate-200 
                     rounded-lg hover:shadow-md transition"
        >
          <span className="font-medium text-slate-800">{chapter}</span>

          <div className="flex gap-2">
            <button
              onClick={() => openNotesModal(chapter)}
              className="flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded 
                         text-sm hover:bg-blue-700 transition"
            >
              <Eye size={12} /> Notes
            </button>
            <button
              className="flex items-center gap-1 px-3 py-1 bg-slate-100 text-slate-700 
                         rounded text-sm hover:bg-slate-200 transition"
            >
              <Download size={12} /> Download
            </button>
          </div>
        </div>
      ))}
    </div>
  );

  const renderChapters = (chapterList) =>
    viewType === "grid" ? renderGridView(chapterList) : renderListView(chapterList);

  return (
    <div className="px-8 py-6">
      <button
        onClick={() => setActiveSection('exam')}
        className="flex items-center gap-2 px-4 py-2 bg-slate-100 rounded-lg mb-8 
                   hover:bg-slate-200 transition"
      >
        <ArrowLeft size={18} />
        <span className="font-medium">Back to Subjects</span>
      </button>

      <div className="flex justify-between items-center mb-6">
        <div>
          <h1 className="text-3xl font-bold text-slate-900 mb-1">{selectedSubject}</h1>
          <p className="text-slate-600 text-base">Choose a chapter to view notes and materials</p>
        </div>

        <button
          onClick={() => setViewType(viewType === "grid" ? "list" : "grid")}
          className="flex items-center gap-2 px-4 py-2 bg-slate-100 rounded-lg 
                     hover:bg-slate-200 transition font-medium"
        >
          {viewType === "grid" ? <List size={18} /> : <LayoutGrid size={18} />}
          {viewType === "grid" ? "List View" : "Grid View"}
        </button>
      </div>

      {chapters["11th"] && (
        <div className="mb-10">
          <h2 className="text-2xl font-semibold mb-4 text-blue-700">11th Standard</h2>
          {renderChapters(chapters["11th"])}
        </div>
      )}

      {chapters["12th"] && (
        <div className="mb-10">
          <h2 className="text-2xl font-semibold mb-4 text-blue-700">12th Standard</h2>
          {renderChapters(chapters["12th"])}
        </div>
      )}

      {chapters.Zoology && (
        <div className="mb-10">
          <h2 className="text-2xl font-semibold mb-4 text-blue-700">Zoology</h2>

          {chapters.Zoology["11th"] && (
            <>
              <h3 className="text-xl font-semibold mb-3 text-blue-600">11th Standard</h3>
              {renderChapters(chapters.Zoology["11th"])}
            </>
          )}

          {chapters.Zoology["12th"] && (
            <>
              <h3 className="text-xl font-semibold mb-3 text-blue-600 mt-6">12th Standard</h3>
              {renderChapters(chapters.Zoology["12th"])}
            </>
          )}
        </div>
      )}

      {chapters.Botany && (
        <div>
          <h2 className="text-2xl font-semibold mb-4 text-blue-700">Botany</h2>

          {chapters.Botany["11th"] && (
            <>
              <h3 className="text-xl font-semibold mb-3 text-blue-600">11th Standard</h3>
              {renderChapters(chapters.Botany["11th"])}
            </>
          )}

          {chapters.Botany["12th"] && (
            <>
              <h3 className="text-xl font-semibold mb-3 text-blue-600 mt-6">12th Standard</h3>
              {renderChapters(chapters.Botany["12th"])}
            </>
          )}
        </div>
      )}
    </div>
  );
};

export default ChaptersPage;




*****************************************************************///recent design****************************************************************

import React, { useState } from 'react';
import { Eye, Download, ArrowLeft, List, LayoutGrid } from 'lucide-react';
import physics from '../../../assets/physics.png';

const ChaptersPage = ({ selectedExam, selectedSubject, chapters, setActiveSection, openNotesModal }) => {

  // üîπ State to toggle between Grid View and List View
  const [viewType, setViewType] = useState("grid"); // values: "grid" | "list"

  // ---------------------------------------------
  // ‚úÖ GRID VIEW UI (Cards with Thumbnails)
  // ---------------------------------------------
  const renderGridView = (chapterList) => (
    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {chapterList.map((chapter) => (
        <div
          key={chapter}
          className="flex flex-col justify-between p-5 bg-white border border-slate-200 rounded-2xl shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-200"
        >
          {/* Chapter Image */}
          <img
            src={physics}
            alt={chapter}
            className="w-full h-44 object-cover rounded-lg mb-4"
          />

          {/* Chapter Name */}
          <span className="font-semibold text-slate-800 text-lg mb-3">{chapter}</span>

          {/* Action Buttons */}
          <div className="flex gap-3 mt-auto">
            <button
              onClick={() => openNotesModal(chapter)}
              className="flex items-center gap-1 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition"
            >
              <Eye size={14} /> Notes
            </button>
            <button className="flex items-center gap-1 px-4 py-2 bg-slate-100 text-slate-700 rounded-lg text-sm font-medium hover:bg-slate-200 transition">
              <Download size={14} /> Download
            </button>
          </div>
        </div>
      ))}
    </div>
  );

  // ---------------------------------------------
  // ‚úÖ LIST VIEW UI (Simple List Row)
  // ---------------------------------------------
  const renderListView = (chapterList) => (
    <div className="space-y-4">
      {chapterList.map((chapter) => (
        <div
          key={chapter}
          className="flex justify-between items-center p-4 bg-white border border-slate-200 rounded-lg hover:shadow-md transition"
        >
          {/* Chapter Name */}
          <span className="font-medium text-slate-800">{chapter}</span>

          {/* Action Buttons */}
          <div className="flex gap-2">
            <button
              onClick={() => openNotesModal(chapter)}
              className="flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition"
            >
              <Eye size={12} /> Notes
            </button>
            <button className="flex items-center gap-1 px-3 py-1 bg-slate-100 text-slate-700 rounded text-sm hover:bg-slate-200 transition">
              <Download size={12} /> Download
            </button>
          </div>
        </div>
      ))}
    </div>
  );

  // üî• Decides which view to show based on "viewType"
  const renderChapters = (chapterList) =>
    viewType === "grid" ? renderGridView(chapterList) : renderListView(chapterList);

  return (
    <div className="px-8 py-6">

      {/* üîô Back Button */}
      <button
        onClick={() => setActiveSection('exam')}
        className="flex items-center gap-2 px-4 py-2 bg-slate-100 rounded-lg mb-8 hover:bg-slate-200 transition"
      >
        <ArrowLeft size={18} />
        <span className="font-medium">Back to Subjects</span>
      </button>

      {/* Title + View Toggle Button */}
      <div className="flex justify-between items-center mb-6">
        <div>
          <h1 className="text-3xl font-bold text-slate-900 mb-1">{selectedSubject}</h1>
          <p className="text-slate-600 text-base">Choose a chapter to view notes and materials</p>
        </div>

        {/* üîÅ Toggle Grid/List View */}
        <button
          onClick={() => setViewType(viewType === "grid" ? "list" : "grid")}
          className="flex items-center gap-2 px-4 py-2 bg-slate-100 rounded-lg hover:bg-slate-200 transition font-medium"
        >
          {viewType === "grid" ? <List size={18} /> : <LayoutGrid size={18} />}
          {viewType === "grid" ? "List View" : "Grid View"}
        </button>
      </div>

      {/* üìö Chapters - 11th */}
      {chapters["11th"] && (
        <div className="mb-10">
          <h2 className="text-2xl font-semibold mb-4 text-blue-700">11th Standard</h2>
          {renderChapters(chapters["11th"])}
        </div>
      )}

      {/* üìö Chapters - 12th */}
      {chapters["12th"] && (
        <div className="mb-10">
          <h2 className="text-2xl font-semibold mb-4 text-blue-700">12th Standard</h2>
          {renderChapters(chapters["12th"])}
        </div>
      )}

      {/* üß¨ Biology (Zoology + Botany) */}
      {chapters.Zoology && (
        <div className="mb-10">
          <h2 className="text-2xl font-semibold mb-4 text-blue-700">Zoology</h2>

          {/* Zoology - 11th */}
          {chapters.Zoology["11th"] && (
            <>
              <h3 className="text-xl font-semibold mb-3 text-blue-600">11th Standard</h3>
              {renderChapters(chapters.Zoology["11th"])}
            </>
          )}

          {/* Zoology - 12th */}
          {chapters.Zoology["12th"] && (
            <>
              <h3 className="text-xl font-semibold mb-3 text-blue-600 mt-6">12th Standard</h3>
              {renderChapters(chapters.Zoology["12th"])}
            </>
          )}
        </div>
      )}

      {/* Botany */}
      {chapters.Botany && (
        <div>
          <h2 className="text-2xl font-semibold mb-4 text-blue-700">Botany</h2>

          {/* Botany - 11th */}
          {chapters.Botany["11th"] && (
            <>
              <h3 className="text-xl font-semibold mb-3 text-blue-600">11th Standard</h3>
              {renderChapters(chapters.Botany["11th"])}
            </>
          )}

          {/* Botany - 12th */}
          {chapters.Botany["12th"] && (
            <>
              <h3 className="text-xl font-semibold mb-3 text-blue-600 mt-6">12th Standard</h3>
              {renderChapters(chapters.Botany["12th"])}
            </>
          )}
        </div>
      )}
    </div>
  );
};
export default ChaptersPage;
